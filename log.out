/Users/alice/opt/anaconda3/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: 'dlopen(/Users/alice/opt/anaconda3/lib/python3.8/site-packages/torchvision/image.so, 6): Library not loaded: @rpath/libpng16.16.dylib
  Referenced from: /Users/alice/opt/anaconda3/lib/python3.8/site-packages/torchvision/image.so
  Reason: Incompatible library version: image.so requires version 56.0.0 or later, but libpng16.16.dylib provides version 54.0.0'If you don't plan on using image functionality from `torchvision.io`, you can ignore this warning. Otherwise, there might be something wrong with your environment. Did you have `libjpeg` or `libpng` installed before building `torchvision` from source?
  warn(
/Users/alice/Desktop/python/PFL/system /Users/alice/Desktop/python/PFL
/Users/alice/Desktop/python/PFL/system /Users/alice/Desktop/python/PFL

cuda is not avaiable.

==================================================
Algorithm: ALAJS
Local batch size: 10
Local steps: 1
Local learing rate: 0.005
Local learing rate decay: False
Total number of clients: 20
Clients join in each round: 0.1
Clients randomly join: False
Client drop rate: 0.0
Client select regarding time: False
Running times: 1
Dataset: Cifar10
Number of classes: 10
Backbone: cnn
Using device: cpu
Using DP: False
Auto break: False
Global rounds: 1
DLG attack: False
Total number of new clients: 0
Fine tuning epoches on new clients: 0
==================================================

============= Running time: 0th =============
Creating server and clients ...
FedAvgCNN(
  (conv1): Sequential(
    (0): Conv2d(3, 32, kernel_size=(5, 5), stride=(1, 1))
    (1): ReLU(inplace=True)
    (2): MaxPool2d(kernel_size=(2, 2), stride=(2, 2), padding=0, dilation=1, ceil_mode=False)
  )
  (conv2): Sequential(
    (0): Conv2d(32, 64, kernel_size=(5, 5), stride=(1, 1))
    (1): ReLU(inplace=True)
    (2): MaxPool2d(kernel_size=(2, 2), stride=(2, 2), padding=0, dilation=1, ceil_mode=False)
  )
  (fc1): Sequential(
    (0): Linear(in_features=1600, out_features=512, bias=True)
    (1): ReLU(inplace=True)
  )
  (fc): Linear(in_features=512, out_features=10, bias=True)
)
INFO:------------------------args.algorithm is:ALAJS-----------------------
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
INFormation-----------------------------------init client 0 JS distance is 0.0-------------------------------
INFormation-----------------------------------init client 1 JS distance is 0.6222145878756518-------------------------------
INFormation-----------------------------------init client 2 JS distance is 0.6542200242441011-------------------------------
INFormation-----------------------------------init client 3 JS distance is 0.6485500442507943-------------------------------
INFormation-----------------------------------init client 4 JS distance is 0.7185136521173171-------------------------------
INFormation-----------------------------------init client 5 JS distance is 0.6538498111925424-------------------------------
INFormation-----------------------------------init client 6 JS distance is 0.5782225394458149-------------------------------
INFormation-----------------------------------init client 7 JS distance is 0.5892240811004656-------------------------------
INFormation-----------------------------------init client 8 JS distance is 0.6326297840284664-------------------------------
INFormation-----------------------------------init client 9 JS distance is 0.6600879648191026-------------------------------
INFormation-----------------------------------init client 10 JS distance is 0.6156436683176422-------------------------------
INFormation-----------------------------------init client 11 JS distance is 0.48953310477979867-------------------------------
INFormation-----------------------------------init client 12 JS distance is 0.5829451597932575-------------------------------
INFormation-----------------------------------init client 13 JS distance is 0.6013470169055832-------------------------------
INFormation-----------------------------------init client 14 JS distance is 0.6852129638629464-------------------------------
INFormation-----------------------------------init client 15 JS distance is 0.5447007962489308-------------------------------
INFormation-----------------------------------init client 16 JS distance is 0.629933108297869-------------------------------
INFormation-----------------------------------init client 17 JS distance is 0.7249809149335342-------------------------------
INFormation-----------------------------------init client 18 JS distance is 0.6873010607857806-------------------------------
INFormation-----------------------------------init client 19 JS distance is 0.7173689128071572-------------------------------
Info:***********************************ALAJS set_clients**************************

Join ratio / total clients: 0.1 / 20
Finished creating server and clients.
/Users/alice/Desktop/python/PFL//res/ALAJS/Cifar10_canshu.csv
INFO:-----------------global_rounds is---0-----,select client num is-----2-seleClient: 12 	Std: 0.009393998044524815 	ALA epochs: 15
Client: 13 	Std: 0.009237515982935186 	ALA epochs: 25
Client: 14 	Std: 0.008705441955398841 	ALA epochs: 19
Client: 15 	Std: 0.00938698013708181 	ALA epochs: 13
Client: 16 	Std: 0.009906003649133393 	ALA epochs: 18
Client: 17 	Std: 0.00924698588701705 	ALA epochs: 15
Client: 18 	Std: 0.00822743931387086 	ALA epochs: 14
Client: 19 	Std: 0.009593429315361836 	ALA epochs: 20

-------------Round number: 1-------------

Evaluate global model
Averaged Train Loss: 2.0878
Averaged Test Accurancy: 0.2895
Averaged Test AUC: 0.6488
Std Test Accurancy: 0.3305
Std Test AUC: 0.2363
Info:***********************************ALAJS receive_models**************************
------------------------- time cost ------------------------- 287.23112988471985
/Users/alice/Desktop/python/PFL//res/ALAJS/Cifar10_acc.csv

Best accuracy.
0.2895034988337221

Average time cost per round.
287.23112988471985
File path: ../results/Cifar10_ALAJS_test_0.h5

Average time cost: 316.41s.
Length:  2
std for best accurancy: 0.0
mean for best accurancy: 0.2895034988337221
All done!

Storage on cpu
-------------------------------------------------------------------------------
Total Tensors: 302998010 	Used Memory: 615.20M
-------------------------------------------------------------------------------
t Accurancy: 0.1815
Std Test AUC: 0.2182
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
Info:***********************************ALAJS receive_models**************************
------------------------- time cost ------------------------- 38.11658978462219
INFO:-----------------global_rounds is---1-----,select client num is-----2-select id :--[8, 5]----------------------------------
Client: 0 	Std: 0.009985243389707861 	ALA epochs: 27
Client: 1 	Std: 0.008497884249501377 	ALA epochs: 20
Client: 2 	Std: 0.009364542988450787 	ALA epochs: 27
Client: 3 	Std: 0.00883767856136679 	ALA epochs: 20
Client: 4 	Std: 0.008560589877088702 	ALA epochs: 14
Client: 5 	Std: 0.00889739462398245 	ALA epochs: 16
Client: 6 	Std: 0.009723631803636187 	ALA epochs: 23
Client: 7 	Std: 0.009588144336692866 	ALA epochs: 22
Client: 8 	Std: 0.00996728727959334 	ALA epochs: 22
Client: 9 	Std: 0.008383042186140959 	ALA epochs: 17
Client: 10 	Std: 0.009653013717483267 	ALA epochs: 27
Client: 11 	Std: 0.009725563641906068 	ALA epochs: 22
Client: 12 	Std: 0.009415426424808278 	ALA epochs: 17
Client: 13 	Std: 0.009936824468088627 	ALA epochs: 28
Client: 14 	Std: 0.009864874004238196 	ALA epochs: 18
Client: 15 	Std: 0.008894740910330328 	ALA epochs: 17
Client: 16 	Std: 0.008805905608090888 	ALA epochs: 14
Client: 17 	Std: 0.008022679776227552 	ALA epochs: 14
Client: 18 	Std: 0.009543230600239901 	ALA epochs: 15
Client: 19 	Std: 0.009697196095411375 	ALA epochs: 19

-------------Round number: 1-------------

Evaluate global model
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
Averaged Train Loss: 2.2020
Averaged Test Accurancy: 0.2601
Averaged Test AUC: 0.6785
Std Test Accurancy: 0.3098
Std Test AUC: 0.1418
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
/Users/alice/Desktop/python/PFL//dataset/Cifar10/train/
Info:***********************************ALAJS receive_models**************************
------------------------- time cost ------------------------- 267.46136808395386
/Users/alice/Desktop/python/PFL//res/selectids/Cifar10_select_client_ids20_0.1.csv
/Users/alice/Desktop/python/PFL//res/ALAJS/Cifar10_acc.csv

Best accuracy.
0.26011329556814394

Average time cost per round.
267.46136808395386
File path: ../results/Cifar10_ALAJS_test_0.h5

Average time cost: 317.64s.
Length:  2
std for best accurancy: 0.0
mean for best accurancy: 0.26011329556814394
All done!

Storage on cpu
-------------------------------------------------------------------------------
Total Tensors: 302998010 	Used Memory: 615.20M
-------------------------------------------------------------------------------
